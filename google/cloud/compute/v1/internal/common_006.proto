// Copyright 2023 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      https://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// Generated by the C++ microgenerator.
// If you make any local changes, they will be lost.
// file:///workspace/generator/discovery/compute_public_google_rest_v1.json
// revision: 20230920

syntax = "proto3";

package google.cloud.cpp.compute.v1;

import "google/cloud/compute/v1/internal/common_001.proto";
import "google/cloud/compute/v1/internal/common_109.proto";

// [Output Only] Contains output only fields.
message AllocationResourceStatus {
  // Allocation Properties of this reservation.
  optional AllocationResourceStatusSpecificSKUAllocation
      specific_sku_allocation = 1;
}

// Contains Properties set for the reservation.
message AllocationResourceStatusSpecificSKUAllocation {
  // ID of the instance template used to populate reservation properties.
  optional string source_instance_template_id = 1;
}

message AllocationSpecificSKUAllocationAllocatedInstancePropertiesReservedDisk {
  // Specifies the size of the disk in base-2 GB.
  optional string disk_size_gb = 1;

  // Specifies the disk interface to use for attaching this disk, which is
  // either SCSI or NVME. The default is SCSI. For performance characteristics
  // of SCSI over NVMe, see Local SSD performance.
  // NVME:
  // SCSI:
  optional string interface = 2;
}

// Properties of the SKU instances being reserved. Next ID: 9
message AllocationSpecificSKUAllocationReservedInstanceProperties {
  // Specifies accelerator type and count.
  repeated AcceleratorConfig guest_accelerators = 1;

  // Specifies amount of local ssd to reserve with each instance. The type of
  // disk is local-ssd.
  repeated
      AllocationSpecificSKUAllocationAllocatedInstancePropertiesReservedDisk
          local_ssds = 2;

  // An opaque location hint used to place the allocation close to other
  // resources. This field is for use by internal tools that use the public API.
  optional string location_hint = 3;

  // Specifies type of machine (name only) which has fixed number of vCPUs and
  // fixed amount of memory. This also includes specifying custom machine type
  // following custom-NUMBER_OF_CPUS-AMOUNT_OF_MEMORY pattern.
  optional string machine_type = 4;

  // Minimum cpu platform the reservation.
  optional string min_cpu_platform = 5;
}

// This reservation type allows to pre allocate specific instance configuration.
// Next ID: 6
message AllocationSpecificSKUReservation {
  // [Output Only] Indicates how many instances are actually usable currently.
  optional string assured_count = 1;

  // Specifies the number of resources that are allocated.
  optional string count = 2;

  // [Output Only] Indicates how many instances are in use.
  optional string in_use_count = 3;

  // The instance properties for the reservation.
  optional AllocationSpecificSKUAllocationReservedInstanceProperties
      instance_properties = 4;

  // Specifies the instance template to create the reservation. If you use this
  // field, you must exclude the instanceProperties field. This field is
  // optional, and it can be a full or partial URL. For example, the following
  // are all valid URLs to an instance template: -
  // https://www.googleapis.com/compute/v1/projects/project
  // /global/instanceTemplates/instanceTemplate -
  // projects/project/global/instanceTemplates/instanceTemplate -
  // global/instanceTemplates/instanceTemplate
  optional string source_instance_template = 5;
}

// Represents a reservation resource. A reservation ensures that capacity is
// held in a specific zone even if the reserved VMs are not running. For more
// information, read Reserving zonal resources.
message Reservation {
  // [Output Only] Full or partial URL to a parent commitment. This field
  // displays for reservations that are tied to a commitment.
  optional string commitment = 1;

  // [Output Only] Creation timestamp in RFC3339 text format.
  optional string creation_timestamp = 2;

  // An optional description of this resource. Provide this property when you
  // create the resource.
  optional string description = 3;

  // [Output Only] The unique identifier for the resource. This identifier is
  // defined by the server.
  optional string id = 4;

  // [Output Only] Type of the resource. Always compute#reservations for
  // reservations.
  optional string kind = 5;

  // The name of the resource, provided by the client when initially creating
  // the resource. The resource name must be 1-63 characters long, and comply
  // with RFC1035. Specifically, the name must be 1-63 characters long and match
  // the regular expression `[a-z]([-a-z0-9]*[a-z0-9])?` which means the first
  // character must be a lowercase letter, and all following characters must be
  // a dash, lowercase letter, or digit, except the last character, which cannot
  // be a dash.
  optional string name = 6;

  // Resource policies to be added to this reservation. The key is defined by
  // user, and the value is resource policy url. This is to define placement
  // policy with reservation.
  map<string, string> resource_policies = 7;

  // [Output Only] Status information for Reservation resource.
  optional AllocationResourceStatus resource_status = 8;

  // [Output Only] Reserved for future use.
  optional bool satisfies_pzs = 9;

  // [Output Only] Server-defined fully-qualified URL for this resource.
  optional string self_link = 10;

  // Specify share-settings to create a shared reservation. This property is
  // optional. For more information about the syntax and options for this field
  // and its subfields, see the guide for creating a shared reservation.
  optional ShareSettings share_settings = 11;

  // Reservation for instances with specific machine shapes.
  optional AllocationSpecificSKUReservation specific_reservation = 12;

  // Indicates whether the reservation can be consumed by VMs with affinity for
  // "any" reservation. If the field is set, then only VMs that target the
  // reservation by name can consume from this reservation.
  optional bool specific_reservation_required = 13;

  // [Output Only] The status of the reservation.
  // CREATING: Resources are being allocated for the reservation.
  // DELETING: Reservation is currently being deleted.
  // INVALID:
  // READY: Reservation has allocated all its resources.
  // UPDATING: Reservation is currently being resized.
  optional string status = 14;

  // Zone in which the reservation resides. A zone must be provided if the
  // reservation is created within a commitment.
  optional string zone = 15;
}
